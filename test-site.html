<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Site</title>
    <!-- Load React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Load your widget styles -->
    <link href="https://deplo-dash-supa.vercel.app/widget/style.css" rel="stylesheet">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }
    </style>
</head>
<body>
    <h1>Test Site</h1>
    <p>This is a test site to demonstrate the chatbot widget.</p>
    <p>Status: <span id="status">Loading...</span></p>

    <!-- Widget container -->
    <div id="chatbot-widget"></div>

    <!-- Set global config before loading the widget -->
    <script>
        window.CHATBOT_CONFIG = {
            domainId: '4b32ec2c-b40b-43f5-a0e1-1133ea069f41'
        };
    </script>

    <!-- Load your widget script -->
    <script 
        src="https://deplo-dash-supa.vercel.app/widget/chatbot-widget.umd.js"
        data-domain-id="4b32ec2c-b40b-43f5-a0e1-1133ea069f41"
    ></script>
    <script>
        // Initialize the widget
        window.onload = function() {
            const container = document.getElementById('chatbot-widget');
            const status = document.getElementById('status');

            try {
                chatbotWidget.render(container, {});
                status.textContent = 'Widget loaded successfully';
                status.style.color = 'green';
            } catch (error) {
                console.error('Error loading widget:', error);
                status.textContent = 'Error loading widget: ' + error.message;
                status.style.color = 'red';
            }
        };
    </script>
</body>
</html>
