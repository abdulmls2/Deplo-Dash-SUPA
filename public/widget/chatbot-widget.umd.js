(function(x,Te){typeof exports=="object"&&typeof module<"u"?Te(require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react","react-dom"],Te):(x=typeof globalThis<"u"?globalThis:x||self,Te(x.React,x.ReactDOM))})(this,function(x,Te){"use strict";function tr(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const X=tr(x);function rr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Je={exports:{}},je={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mt;function nr(){if(mt)return je;mt=1;var e=x,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(h,d,v){var g,c={},y=null,_=null;v!==void 0&&(y=""+v),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(_=d.ref);for(g in d)n.call(d,g)&&!s.hasOwnProperty(g)&&(c[g]=d[g]);if(h&&h.defaultProps)for(g in d=h.defaultProps,d)c[g]===void 0&&(c[g]=d[g]);return{$$typeof:t,type:h,key:y,ref:_,props:c,_owner:o.current}}return je.Fragment=r,je.jsx=u,je.jsxs=u,je}var Re={},gt;function ar(){if(gt)return Re;gt=1;var e={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return e.NODE_ENV!=="production"&&function(){var t=x,r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),d=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),b=Symbol.iterator,L="@@iterator";function Y(a){if(a===null||typeof a!="object")return null;var i=b&&a[b]||a[L];return typeof i=="function"?i:null}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function I(a){{for(var i=arguments.length,m=new Array(i>1?i-1:0),w=1;w<i;w++)m[w-1]=arguments[w];C("error",a,m)}}function C(a,i,m){{var w=M.ReactDebugCurrentFrame,D=w.getStackAddendum();D!==""&&(i+="%s",m=m.concat([D]));var N=m.map(function(j){return String(j)});N.unshift("Warning: "+i),Function.prototype.apply.call(console[a],console,N)}}var O=!1,k=!1,R=!1,U=!1,Z=!1,V;V=Symbol.for("react.module.reference");function ne(a){return!!(typeof a=="string"||typeof a=="function"||a===o||a===u||Z||a===s||a===g||a===c||U||a===S||O||k||R||typeof a=="object"&&a!==null&&(a.$$typeof===_||a.$$typeof===y||a.$$typeof===h||a.$$typeof===d||a.$$typeof===v||a.$$typeof===V||a.getModuleId!==void 0))}function pe(a,i,m){var w=a.displayName;if(w)return w;var D=i.displayName||i.name||"";return D!==""?m+"("+D+")":m}function ae(a){return a.displayName||"Context"}function q(a){if(a==null)return null;if(typeof a.tag=="number"&&I("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case o:return"Fragment";case n:return"Portal";case u:return"Profiler";case s:return"StrictMode";case g:return"Suspense";case c:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case d:var i=a;return ae(i)+".Consumer";case h:var m=a;return ae(m._context)+".Provider";case v:return pe(a,a.render,"ForwardRef");case y:var w=a.displayName||null;return w!==null?w:q(a.type)||"Memo";case _:{var D=a,N=D._payload,j=D._init;try{return q(j(N))}catch{return null}}}return null}var K=Object.assign,oe=0,de,fe,qe,Be,B,xe,_e;function ze(){}ze.__reactDisabledLog=!0;function he(){{if(oe===0){de=console.log,fe=console.info,qe=console.warn,Be=console.error,B=console.group,xe=console.groupCollapsed,_e=console.groupEnd;var a={configurable:!0,enumerable:!0,value:ze,writable:!0};Object.defineProperties(console,{info:a,log:a,warn:a,error:a,group:a,groupCollapsed:a,groupEnd:a})}oe++}}function Se(){{if(oe--,oe===0){var a={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:K({},a,{value:de}),info:K({},a,{value:fe}),warn:K({},a,{value:qe}),error:K({},a,{value:Be}),group:K({},a,{value:B}),groupCollapsed:K({},a,{value:xe}),groupEnd:K({},a,{value:_e})})}oe<0&&I("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ve=M.ReactCurrentDispatcher,Me;function l(a,i,m){{if(Me===void 0)try{throw Error()}catch(D){var w=D.stack.trim().match(/\n( *(at )?)/);Me=w&&w[1]||""}return`
`+Me+a}}var p=!1,E;{var A=typeof WeakMap=="function"?WeakMap:Map;E=new A}function G(a,i){if(!a||p)return"";{var m=E.get(a);if(m!==void 0)return m}var w;p=!0;var D=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var N;N=ve.current,ve.current=null,he();try{if(i){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(J){w=J}Reflect.construct(a,[],j)}else{try{j.call()}catch(J){w=J}a.call(j.prototype)}}else{try{throw Error()}catch(J){w=J}a()}}catch(J){if(J&&w&&typeof J.stack=="string"){for(var T=J.stack.split(`
`),z=w.stack.split(`
`),F=T.length-1,H=z.length-1;F>=1&&H>=0&&T[F]!==z[H];)H--;for(;F>=1&&H>=0;F--,H--)if(T[F]!==z[H]){if(F!==1||H!==1)do if(F--,H--,H<0||T[F]!==z[H]){var $=`
`+T[F].replace(" at new "," at ");return a.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",a.displayName)),typeof a=="function"&&E.set(a,$),$}while(F>=1&&H>=0);break}}}finally{p=!1,ve.current=N,Se(),Error.prepareStackTrace=D}var Oe=a?a.displayName||a.name:"",be=Oe?l(Oe):"";return typeof a=="function"&&E.set(a,be),be}function te(a,i,m){return G(a,!1)}function it(a){var i=a.prototype;return!!(i&&i.isReactComponent)}function ye(a,i,m){if(a==null)return"";if(typeof a=="function")return G(a,it(a));if(typeof a=="string")return l(a);switch(a){case g:return l("Suspense");case c:return l("SuspenseList")}if(typeof a=="object")switch(a.$$typeof){case v:return te(a.render);case y:return ye(a.type,i,m);case _:{var w=a,D=w._payload,N=w._init;try{return ye(N(D),i,m)}catch{}}}return""}var Ne=Object.prototype.hasOwnProperty,Ht={},Ut=M.ReactDebugCurrentFrame;function Ge(a){if(a){var i=a._owner,m=ye(a.type,a._source,i?i.type:null);Ut.setExtraStackFrame(m)}else Ut.setExtraStackFrame(null)}function Ta(a,i,m,w,D){{var N=Function.call.bind(Ne);for(var j in a)if(N(a,j)){var T=void 0;try{if(typeof a[j]!="function"){var z=Error((w||"React class")+": "+m+" type `"+j+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[j]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw z.name="Invariant Violation",z}T=a[j](i,j,w,m,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(F){T=F}T&&!(T instanceof Error)&&(Ge(D),I("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",w||"React class",m,j,typeof T),Ge(null)),T instanceof Error&&!(T.message in Ht)&&(Ht[T.message]=!0,Ge(D),I("Failed %s type: %s",m,T.message),Ge(null))}}}var ja=Array.isArray;function ct(a){return ja(a)}function Ra(a){{var i=typeof Symbol=="function"&&Symbol.toStringTag,m=i&&a[Symbol.toStringTag]||a.constructor.name||"Object";return m}}function ka(a){try{return qt(a),!1}catch{return!0}}function qt(a){return""+a}function Bt(a){if(ka(a))return I("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Ra(a)),qt(a)}var Ie=M.ReactCurrentOwner,Da={key:!0,ref:!0,__self:!0,__source:!0},zt,Gt,ut;ut={};function Pa(a){if(Ne.call(a,"ref")){var i=Object.getOwnPropertyDescriptor(a,"ref").get;if(i&&i.isReactWarning)return!1}return a.ref!==void 0}function Ca(a){if(Ne.call(a,"key")){var i=Object.getOwnPropertyDescriptor(a,"key").get;if(i&&i.isReactWarning)return!1}return a.key!==void 0}function Ma(a,i){if(typeof a.ref=="string"&&Ie.current&&i&&Ie.current.stateNode!==i){var m=q(Ie.current.type);ut[m]||(I('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',q(Ie.current.type),a.ref),ut[m]=!0)}}function Na(a,i){{var m=function(){zt||(zt=!0,I("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",i))};m.isReactWarning=!0,Object.defineProperty(a,"key",{get:m,configurable:!0})}}function Ia(a,i){{var m=function(){Gt||(Gt=!0,I("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",i))};m.isReactWarning=!0,Object.defineProperty(a,"ref",{get:m,configurable:!0})}}var Aa=function(a,i,m,w,D,N,j){var T={$$typeof:r,type:a,key:i,ref:m,props:j,_owner:N};return T._store={},Object.defineProperty(T._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(T,"_self",{configurable:!1,enumerable:!1,writable:!1,value:w}),Object.defineProperty(T,"_source",{configurable:!1,enumerable:!1,writable:!1,value:D}),Object.freeze&&(Object.freeze(T.props),Object.freeze(T)),T};function Wa(a,i,m,w,D){{var N,j={},T=null,z=null;m!==void 0&&(Bt(m),T=""+m),Ca(i)&&(Bt(i.key),T=""+i.key),Pa(i)&&(z=i.ref,Ma(i,D));for(N in i)Ne.call(i,N)&&!Da.hasOwnProperty(N)&&(j[N]=i[N]);if(a&&a.defaultProps){var F=a.defaultProps;for(N in F)j[N]===void 0&&(j[N]=F[N])}if(T||z){var H=typeof a=="function"?a.displayName||a.name||"Unknown":a;T&&Na(j,H),z&&Ia(j,H)}return Aa(a,T,z,D,w,Ie.current,j)}}var lt=M.ReactCurrentOwner,Jt=M.ReactDebugCurrentFrame;function Ee(a){if(a){var i=a._owner,m=ye(a.type,a._source,i?i.type:null);Jt.setExtraStackFrame(m)}else Jt.setExtraStackFrame(null)}var dt;dt=!1;function ft(a){return typeof a=="object"&&a!==null&&a.$$typeof===r}function Xt(){{if(lt.current){var a=q(lt.current.type);if(a)return`

Check the render method of \``+a+"`."}return""}}function La(a){return""}var Kt={};function Fa(a){{var i=Xt();if(!i){var m=typeof a=="string"?a:a.displayName||a.name;m&&(i=`

Check the top-level render call using <`+m+">.")}return i}}function Qt(a,i){{if(!a._store||a._store.validated||a.key!=null)return;a._store.validated=!0;var m=Fa(i);if(Kt[m])return;Kt[m]=!0;var w="";a&&a._owner&&a._owner!==lt.current&&(w=" It was passed a child from "+q(a._owner.type)+"."),Ee(a),I('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',m,w),Ee(null)}}function Zt(a,i){{if(typeof a!="object")return;if(ct(a))for(var m=0;m<a.length;m++){var w=a[m];ft(w)&&Qt(w,i)}else if(ft(a))a._store&&(a._store.validated=!0);else if(a){var D=Y(a);if(typeof D=="function"&&D!==a.entries)for(var N=D.call(a),j;!(j=N.next()).done;)ft(j.value)&&Qt(j.value,i)}}}function Ya(a){{var i=a.type;if(i==null||typeof i=="string")return;var m;if(typeof i=="function")m=i.propTypes;else if(typeof i=="object"&&(i.$$typeof===v||i.$$typeof===y))m=i.propTypes;else return;if(m){var w=q(i);Ta(m,a.props,"prop",w,a)}else if(i.PropTypes!==void 0&&!dt){dt=!0;var D=q(i);I("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",D||"Unknown")}typeof i.getDefaultProps=="function"&&!i.getDefaultProps.isReactClassApproved&&I("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Va(a){{for(var i=Object.keys(a.props),m=0;m<i.length;m++){var w=i[m];if(w!=="children"&&w!=="key"){Ee(a),I("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",w),Ee(null);break}}a.ref!==null&&(Ee(a),I("Invalid attribute `ref` supplied to `React.Fragment`."),Ee(null))}}var $t={};function er(a,i,m,w,D,N){{var j=ne(a);if(!j){var T="";(a===void 0||typeof a=="object"&&a!==null&&Object.keys(a).length===0)&&(T+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var z=La();z?T+=z:T+=Xt();var F;a===null?F="null":ct(a)?F="array":a!==void 0&&a.$$typeof===r?(F="<"+(q(a.type)||"Unknown")+" />",T=" Did you accidentally export a JSX literal instead of a component?"):F=typeof a,I("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",F,T)}var H=Wa(a,i,m,D,N);if(H==null)return H;if(j){var $=i.children;if($!==void 0)if(w)if(ct($)){for(var Oe=0;Oe<$.length;Oe++)Zt($[Oe],a);Object.freeze&&Object.freeze($)}else I("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Zt($,a)}if(Ne.call(i,"key")){var be=q(a),J=Object.keys(i).filter(function(Ga){return Ga!=="key"}),ht=J.length>0?"{key: someKey, "+J.join(": ..., ")+": ...}":"{key: someKey}";if(!$t[be+ht]){var za=J.length>0?"{"+J.join(": ..., ")+": ...}":"{}";I(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,ht,be,za,be),$t[be+ht]=!0}}return a===o?Va(H):Ya(H),H}}function Ha(a,i,m){return er(a,i,m,!0)}function Ua(a,i,m){return er(a,i,m,!1)}var qa=Ua,Ba=Ha;Re.Fragment=o,Re.jsx=qa,Re.jsxs=Ba}(),Re}var or={};or.NODE_ENV==="production"?Je.exports=nr():Je.exports=ar();var f=Je.exports,Xe,sr={},Ae=Te;if(sr.NODE_ENV==="production")Xe=Ae.createRoot,Ae.hydrateRoot;else{var pt=Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Xe=function(e,t){pt.usingClientEntryPoint=!0;try{return Ae.createRoot(e,t)}finally{pt.usingClientEntryPoint=!1}}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ir={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:u,className:h="",children:d,...v},g)=>x.createElement("svg",{ref:g,...ir,width:o,height:o,stroke:n,strokeWidth:u?Number(s)*24/Number(o):s,className:["lucide",`lucide-${cr(e)}`,h].join(" "),...v},[...t.map(([c,y])=>x.createElement(c,y)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=re("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=re("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=re("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=re("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=re("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=re("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]),br=`${window.location.origin}/api/supabase`;class wr{async fetchApi(t,r){try{const n=await fetch(br,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t,payload:r})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return console.error("API request failed:",n),{data:null,error:n instanceof Error?n.message:"Unknown error"}}}from(t){return{select:async r=>this.fetchApi("select",{table:t,query:r}),insert:async r=>this.fetchApi("insert",{table:t,data:r}),update:async(r,n)=>this.fetchApi("update",{table:t,data:r,match:n}),eq:async(r,n)=>this.fetchApi("select",{table:t,query:"*",filters:{type:"eq",column:r,value:n}}),single:async()=>this.fetchApi("select",{table:t,query:"*",single:!0})}}}const W=new wr;function ee(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function me(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const vt=6048e5,xr=864e5;let _r={};function We(){return _r}function ke(e,t){var h,d,v,g;const r=We(),n=(t==null?void 0:t.weekStartsOn)??((d=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((g=(v=r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??0,o=ee(e),s=o.getDay(),u=(s<n?7:0)+s-n;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function Le(e){return ke(e,{weekStartsOn:1})}function yt(e){const t=ee(e),r=t.getFullYear(),n=me(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const o=Le(n),s=me(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const u=Le(s);return t.getTime()>=o.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function bt(e){const t=ee(e);return t.setHours(0,0,0,0),t}function wt(e){const t=ee(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Sr(e,t){const r=bt(e),n=bt(t),o=+r-wt(r),s=+n-wt(n);return Math.round((o-s)/xr)}function Er(e){const t=yt(e),r=me(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Le(r)}function Or(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Tr(e){if(!Or(e)&&typeof e!="number")return!1;const t=ee(e);return!isNaN(Number(t))}function jr(e){const t=ee(e),r=me(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Rr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kr=(e,t,r)=>{let n;const o=Rr[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ke(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Dr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Cr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mr={date:Ke({formats:Dr,defaultWidth:"full"}),time:Ke({formats:Pr,defaultWidth:"full"}),dateTime:Ke({formats:Cr,defaultWidth:"full"})},Nr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ir=(e,t,r,n)=>Nr[e];function De(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,h=r!=null&&r.width?String(r.width):u;o=e.formattingValues[h]||e.formattingValues[u]}else{const u=e.defaultWidth,h=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[h]||e.values[u]}const s=e.argumentCallback?e.argumentCallback(t):t;return o[s]}}const Ar={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Yr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hr={ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:De({values:Ar,defaultWidth:"wide"}),quarter:De({values:Wr,defaultWidth:"wide",argumentCallback:e=>e-1}),month:De({values:Lr,defaultWidth:"wide"}),day:De({values:Fr,defaultWidth:"wide"}),dayPeriod:De({values:Yr,defaultWidth:"wide",formattingValues:Vr,defaultFormattingWidth:"wide"})};function Pe(e){return(t,r={})=>{const n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(o);if(!s)return null;const u=s[0],h=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(h)?qr(h,c=>c.test(u)):Ur(h,c=>c.test(u));let v;v=e.valueCallback?e.valueCallback(d):d,v=r.valueCallback?r.valueCallback(v):v;const g=t.slice(u.length);return{value:v,rest:g}}}function Ur(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function qr(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Br(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const o=n[0],s=t.match(e.parsePattern);if(!s)return null;let u=e.valueCallback?e.valueCallback(s[0]):s[0];u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}const zr=/^(\d+)(th|st|nd|rd)?/i,Gr=/\d+/i,Jr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Xr={any:[/^b/i,/^(a|c)/i]},Kr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qr={any:[/1/i,/2/i,/3/i,/4/i]},Zr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$r={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},en={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},an={ordinalNumber:Br({matchPattern:zr,parsePattern:Gr,valueCallback:e=>parseInt(e,10)}),era:Pe({matchPatterns:Jr,defaultMatchWidth:"wide",parsePatterns:Xr,defaultParseWidth:"any"}),quarter:Pe({matchPatterns:Kr,defaultMatchWidth:"wide",parsePatterns:Qr,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Pe({matchPatterns:Zr,defaultMatchWidth:"wide",parsePatterns:$r,defaultParseWidth:"any"}),day:Pe({matchPatterns:en,defaultMatchWidth:"wide",parsePatterns:tn,defaultParseWidth:"any"}),dayPeriod:Pe({matchPatterns:rn,defaultMatchWidth:"any",parsePatterns:nn,defaultParseWidth:"any"})},on={code:"en-US",formatDistance:kr,formatLong:Mr,formatRelative:Ir,localize:Hr,match:an,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sn(e){const t=ee(e);return Sr(t,jr(t))+1}function cn(e){const t=ee(e),r=+Le(t)-+Er(t);return Math.round(r/vt)+1}function xt(e,t){var g,c,y,_;const r=ee(e),n=r.getFullYear(),o=We(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:c.firstWeekContainsDate)??o.firstWeekContainsDate??((_=(y=o.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,u=me(e,0);u.setFullYear(n+1,0,s),u.setHours(0,0,0,0);const h=ke(u,t),d=me(e,0);d.setFullYear(n,0,s),d.setHours(0,0,0,0);const v=ke(d,t);return r.getTime()>=h.getTime()?n+1:r.getTime()>=v.getTime()?n:n-1}function un(e,t){var h,d,v,g;const r=We(),n=(t==null?void 0:t.firstWeekContainsDate)??((d=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(v=r.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)??1,o=xt(e,t),s=me(e,0);return s.setFullYear(o,0,n),s.setHours(0,0,0,0),ke(s,t)}function ln(e,t){const r=ee(e),n=+ke(r,t)-+un(r,t);return Math.round(n/vt)+1}function P(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ce={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return P(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):P(r+1,2)},d(e,t){return P(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return P(e.getHours()%12||12,t.length)},H(e,t){return P(e.getHours(),t.length)},m(e,t){return P(e.getMinutes(),t.length)},s(e,t){return P(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,r-3));return P(o,t.length)}},we={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_t={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return ce.y(e,t)},Y:function(e,t,r,n){const o=xt(e,n),s=o>0?o:1-o;if(t==="YY"){const u=s%100;return P(u,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):P(s,t.length)},R:function(e,t){const r=yt(e);return P(r,t.length)},u:function(e,t){const r=e.getFullYear();return P(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return P(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return P(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ce.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return P(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const o=ln(e,n);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):P(o,t.length)},I:function(e,t,r){const n=cn(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):P(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ce.d(e,t)},D:function(e,t,r){const n=sn(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):P(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const o=e.getDay(),s=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return P(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const o=e.getDay(),s=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return P(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),o=n===0?7:n;switch(t){case"i":return String(o);case"ii":return P(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let o;switch(n===12?o=we.noon:n===0?o=we.midnight:o=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let o;switch(n>=17?o=we.evening:n>=12?o=we.afternoon:n>=4?o=we.morning:o=we.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ce.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ce.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):P(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):P(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ce.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ce.s(e,t)},S:function(e,t){return ce.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Et(n);case"XXXX":case"XX":return ge(n);case"XXXXX":case"XXX":default:return ge(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Et(n);case"xxxx":case"xx":return ge(n);case"xxxxx":case"xxx":default:return ge(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+St(n,":");case"OOOO":default:return"GMT"+ge(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+St(n,":");case"zzzz":default:return"GMT"+ge(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return P(n,t.length)},T:function(e,t,r){const n=e.getTime();return P(n,t.length)}};function St(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),s=n%60;return s===0?r+String(o):r+String(o)+t+P(s,2)}function Et(e,t){return e%60===0?(e>0?"-":"+")+P(Math.abs(e)/60,2):ge(e,t)}function ge(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=P(Math.trunc(n/60),2),s=P(n%60,2);return r+o+t+s}const Ot=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Tt=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},dn={p:Tt,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return Ot(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",Ot(n,t)).replace("{{time}}",Tt(o,t))}},fn=/^D+$/,hn=/^Y+$/,mn=["D","DD","YY","YYYY"];function gn(e){return fn.test(e)}function pn(e){return hn.test(e)}function vn(e,t,r){const n=yn(e,t,r);if(console.warn(n),mn.includes(e))throw new RangeError(n)}function yn(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xn=/^'([^]*?)'?$/,_n=/''/g,Sn=/[a-zA-Z]/;function Fe(e,t,r){var g,c,y,_;const n=We(),o=n.locale??on,s=n.firstWeekContainsDate??((c=(g=n.locale)==null?void 0:g.options)==null?void 0:c.firstWeekContainsDate)??1,u=n.weekStartsOn??((_=(y=n.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??0,h=ee(e);if(!Tr(h))throw new RangeError("Invalid time value");let d=t.match(wn).map(S=>{const b=S[0];if(b==="p"||b==="P"){const L=dn[b];return L(S,o.formatLong)}return S}).join("").match(bn).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const b=S[0];if(b==="'")return{isToken:!1,value:En(S)};if(_t[b])return{isToken:!0,value:S};if(b.match(Sn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:S}});o.localize.preprocessor&&(d=o.localize.preprocessor(h,d));const v={firstWeekContainsDate:s,weekStartsOn:u,locale:o};return d.map(S=>{if(!S.isToken)return S.value;const b=S.value;(pn(b)||gn(b))&&vn(b,t,String(e));const L=_t[b[0]];return L(h,b,o.localize,v)}).join("")}function En(e){const t=e.match(xn);return t?t[1].replace(_n,"'"):e}const On={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_OPENAI_API_KEY:"",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpvem9kZmp6eHpsd3praG1maHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIwNDM3MjMsImV4cCI6MjA0NzYxOTcyM30.ywmi4WD1fZN3hRu-krtGmY1-IYSJSODh1tKK4Ytt18Q",VITE_SUPABASE_URL:"https://zozodfjzxzlwzkhmfhwh.supabase.co"},jt=e=>{let t;const r=new Set,n=(g,c)=>{const y=typeof g=="function"?g(t):g;if(!Object.is(y,t)){const _=t;t=c??(typeof y!="object"||y===null)?y:Object.assign({},t,y),r.forEach(S=>S(t,_))}},o=()=>t,d={setState:n,getState:o,getInitialState:()=>v,subscribe:g=>(r.add(g),()=>r.delete(g)),destroy:()=>{(On?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},v=t=e(n,o,d);return d},Tn=e=>e?jt(e):jt;var Qe={exports:{}},Ze={},Ye={exports:{}},$e={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt;function jn(){if(Rt)return $e;Rt=1;var e=x;function t(c,y){return c===y&&(c!==0||1/c===1/y)||c!==c&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,o=e.useEffect,s=e.useLayoutEffect,u=e.useDebugValue;function h(c,y){var _=y(),S=n({inst:{value:_,getSnapshot:y}}),b=S[0].inst,L=S[1];return s(function(){b.value=_,b.getSnapshot=y,d(b)&&L({inst:b})},[c,_,y]),o(function(){return d(b)&&L({inst:b}),c(function(){d(b)&&L({inst:b})})},[c]),u(_),_}function d(c){var y=c.getSnapshot;c=c.value;try{var _=y();return!r(c,_)}catch{return!0}}function v(c,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:h;return $e.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,$e}var et={},kt;function Rn(){if(kt)return et;kt=1;var e={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return e.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=x,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function n(C){{for(var O=arguments.length,k=new Array(O>1?O-1:0),R=1;R<O;R++)k[R-1]=arguments[R];o("error",C,k)}}function o(C,O,k){{var R=r.ReactDebugCurrentFrame,U=R.getStackAddendum();U!==""&&(O+="%s",k=k.concat([U]));var Z=k.map(function(V){return String(V)});Z.unshift("Warning: "+O),Function.prototype.apply.call(console[C],console,Z)}}function s(C,O){return C===O&&(C!==0||1/C===1/O)||C!==C&&O!==O}var u=typeof Object.is=="function"?Object.is:s,h=t.useState,d=t.useEffect,v=t.useLayoutEffect,g=t.useDebugValue,c=!1,y=!1;function _(C,O,k){c||t.startTransition!==void 0&&(c=!0,n("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var R=O();if(!y){var U=O();u(R,U)||(n("The result of getSnapshot should be cached to avoid an infinite loop"),y=!0)}var Z=h({inst:{value:R,getSnapshot:O}}),V=Z[0].inst,ne=Z[1];return v(function(){V.value=R,V.getSnapshot=O,S(V)&&ne({inst:V})},[C,R,O]),d(function(){S(V)&&ne({inst:V});var pe=function(){S(V)&&ne({inst:V})};return C(pe)},[C]),g(R),R}function S(C){var O=C.getSnapshot,k=C.value;try{var R=O();return!u(k,R)}catch{return!0}}function b(C,O,k){return O()}var L=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y=!L,M=Y?b:_,I=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:M;et.useSyncExternalStore=I,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}(),et}var Dt;function Pt(){if(Dt)return Ye.exports;Dt=1;var e={};return e.NODE_ENV==="production"?Ye.exports=jn():Ye.exports=Rn(),Ye.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ct;function kn(){if(Ct)return Ze;Ct=1;var e=x,t=Pt();function r(v,g){return v===g&&(v!==0||1/v===1/g)||v!==v&&g!==g}var n=typeof Object.is=="function"?Object.is:r,o=t.useSyncExternalStore,s=e.useRef,u=e.useEffect,h=e.useMemo,d=e.useDebugValue;return Ze.useSyncExternalStoreWithSelector=function(v,g,c,y,_){var S=s(null);if(S.current===null){var b={hasValue:!1,value:null};S.current=b}else b=S.current;S=h(function(){function Y(k){if(!M){if(M=!0,I=k,k=y(k),_!==void 0&&b.hasValue){var R=b.value;if(_(R,k))return C=R}return C=k}if(R=C,n(I,k))return R;var U=y(k);return _!==void 0&&_(R,U)?R:(I=k,C=U)}var M=!1,I,C,O=c===void 0?null:c;return[function(){return Y(g())},O===null?void 0:function(){return Y(O())}]},[g,c,y,_]);var L=o(v,S[0],S[1]);return u(function(){b.hasValue=!0,b.value=L},[L]),d(L),L},Ze}var tt={},Mt;function Dn(){if(Mt)return tt;Mt=1;var e={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return e.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=x,r=Pt();function n(c,y){return c===y&&(c!==0||1/c===1/y)||c!==c&&y!==y}var o=typeof Object.is=="function"?Object.is:n,s=r.useSyncExternalStore,u=t.useRef,h=t.useEffect,d=t.useMemo,v=t.useDebugValue;function g(c,y,_,S,b){var L=u(null),Y;L.current===null?(Y={hasValue:!1,value:null},L.current=Y):Y=L.current;var M=d(function(){var k=!1,R,U,Z=function(ae){if(!k){k=!0,R=ae;var q=S(ae);if(b!==void 0&&Y.hasValue){var K=Y.value;if(b(K,q))return U=K,K}return U=q,q}var oe=R,de=U;if(o(oe,ae))return de;var fe=S(ae);return b!==void 0&&b(de,fe)?de:(R=ae,U=fe,fe)},V=_===void 0?null:_,ne=function(){return Z(y())},pe=V===null?void 0:function(){return Z(V())};return[ne,pe]},[y,_,S,b]),I=M[0],C=M[1],O=s(c,I,C);return h(function(){Y.hasValue=!0,Y.value=O},[O]),v(O),O}tt.useSyncExternalStoreWithSelector=g,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}(),tt}var Pn={};Pn.NODE_ENV==="production"?Qe.exports=kn():Qe.exports=Dn();var Cn=Qe.exports;const Mn=rr(Cn),Nt={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_OPENAI_API_KEY:"",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpvem9kZmp6eHpsd3praG1maHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIwNDM3MjMsImV4cCI6MjA0NzYxOTcyM30.ywmi4WD1fZN3hRu-krtGmY1-IYSJSODh1tKK4Ytt18Q",VITE_SUPABASE_URL:"https://zozodfjzxzlwzkhmfhwh.supabase.co"},{useDebugValue:Nn}=x,{useSyncExternalStoreWithSelector:In}=Mn;let It=!1;const An=e=>e;function Wn(e,t=An,r){(Nt?"production":void 0)!=="production"&&r&&!It&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),It=!0);const n=In(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Nn(n),n}const At=e=>{(Nt?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Tn(e):e,r=(n,o)=>Wn(t,n,o);return Object.assign(r,t),r},Ln=e=>e?At(e):At;let Fn={data:""},Yn=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Fn,Vn=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Hn=/\/\*[^]*?\*\/|  +/g,Wt=/\n+/g,ue=(e,t)=>{let r="",n="",o="";for(let s in e){let u=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+u+";":n+=s[1]=="f"?ue(u,s):s+"{"+ue(u,s[1]=="k"?"":t)+"}":typeof u=="object"?n+=ue(u,t?t.replace(/([^,])+/g,h=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,h):h?h+" "+d:d)):s):u!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ue.p?ue.p(s,u):s+":"+u+";")}return r+(t&&o?t+"{"+o+"}":o)+n},se={},Lt=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Lt(e[r]);return t}return e},Un=(e,t,r,n,o)=>{let s=Lt(e),u=se[s]||(se[s]=(d=>{let v=0,g=11;for(;v<d.length;)g=101*g+d.charCodeAt(v++)>>>0;return"go"+g})(s));if(!se[u]){let d=s!==e?e:(v=>{let g,c,y=[{}];for(;g=Vn.exec(v.replace(Hn,""));)g[4]?y.shift():g[3]?(c=g[3].replace(Wt," ").trim(),y.unshift(y[0][c]=y[0][c]||{})):y[0][g[1]]=g[2].replace(Wt," ").trim();return y[0]})(e);se[u]=ue(o?{["@keyframes "+u]:d}:d,r?"":"."+u)}let h=r&&se.g?se.g:null;return r&&(se.g=se[u]),((d,v,g,c)=>{c?v.data=v.data.replace(c,d):v.data.indexOf(d)===-1&&(v.data=g?d+v.data:v.data+d)})(se[u],t,n,h),u},qn=(e,t,r)=>e.reduce((n,o,s)=>{let u=t[s];if(u&&u.call){let h=u(r),d=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=d?"."+d:h&&typeof h=="object"?h.props?"":ue(h,""):h===!1?"":h}return n+o+(u??"")},"");function Ve(e){let t=this||{},r=e.call?e(t.p):e;return Un(r.unshift?r.raw?qn(r,[].slice.call(arguments,1),t.p):r.reduce((n,o)=>Object.assign(n,o&&o.call?o(t.p):o),{}):r,Yn(t.target),t.g,t.o,t.k)}let Ft,rt,nt;Ve.bind({g:1});let ie=Ve.bind({k:1});function Bn(e,t,r,n){ue.p=t,Ft=e,rt=r,nt=n}function le(e,t){let r=this||{};return function(){let n=arguments;function o(s,u){let h=Object.assign({},s),d=h.className||o.className;r.p=Object.assign({theme:rt&&rt()},h),r.o=/ *go\d+/.test(d),h.className=Ve.apply(r,n)+(d?" "+d:"");let v=e;return e[0]&&(v=h.as||e,delete h.as),nt&&v[0]&&nt(h),Ft(v,h)}return o}}var zn=e=>typeof e=="function",at=(e,t)=>zn(e)?e(t):e,Gn=(()=>{let e=0;return()=>(++e).toString()})(),Jn=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Xn=20,He=new Map,Kn=1e3,Yt=e=>{if(He.has(e))return;let t=setTimeout(()=>{He.delete(e),Ue({type:4,toastId:e})},Kn);He.set(e,t)},Qn=e=>{let t=He.get(e);t&&clearTimeout(t)},ot=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Xn)};case 1:return t.toast.id&&Qn(t.toast.id),{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return e.toasts.find(s=>s.id===r.id)?ot(e,{type:1,toast:r}):ot(e,{type:0,toast:r});case 3:let{toastId:n}=t;return n?Yt(n):e.toasts.forEach(s=>{Yt(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+o}))}}},Zn=[],st={toasts:[],pausedAt:void 0},Ue=e=>{st=ot(st,e),Zn.forEach(t=>{t(st)})},$n=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Gn()}),Ce=e=>(t,r)=>{let n=$n(t,e,r);return Ue({type:2,toast:n}),n.id},Q=(e,t)=>Ce("blank")(e,t);Q.error=Ce("error"),Q.success=Ce("success"),Q.loading=Ce("loading"),Q.custom=Ce("custom"),Q.dismiss=e=>{Ue({type:3,toastId:e})},Q.remove=e=>Ue({type:4,toastId:e}),Q.promise=(e,t,r)=>{let n=Q.loading(t.loading,{...r,...r==null?void 0:r.loading});return e.then(o=>(Q.success(at(t.success,o),{id:n,...r,...r==null?void 0:r.success}),o)).catch(o=>{Q.error(at(t.error,o),{id:n,...r,...r==null?void 0:r.error})}),e};var ea=ie`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ta=ie`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ra=ie`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,na=le("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ea} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ta} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ra} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,aa=ie`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,oa=le("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${aa} 1s linear infinite;
`,sa=ie`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ia=ie`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ca=le("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sa} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ia} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ua=le("div")`
  position: absolute;
`,la=le("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,da=ie`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fa=le("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${da} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ha=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?X.createElement(fa,null,t):t:r==="blank"?null:X.createElement(la,null,X.createElement(oa,{...n}),r!=="loading"&&X.createElement(ua,null,r==="error"?X.createElement(na,{...n}):X.createElement(ca,{...n})))},ma=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ga=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,pa="0%{opacity:0;} 100%{opacity:1;}",va="0%{opacity:1;} 100%{opacity:0;}",ya=le("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ba=le("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wa=(e,t)=>{let r=e.includes("top")?1:-1,[n,o]=Jn()?[pa,va]:[ma(r),ga(r)];return{animation:t?`${ie(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ie(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};X.memo(({toast:e,position:t,style:r,children:n})=>{let o=e.height?wa(e.position||t||"top-center",e.visible):{opacity:0},s=X.createElement(ha,{toast:e}),u=X.createElement(ba,{...e.ariaProps},at(e.message,e));return X.createElement(ya,{className:e.className,style:{...o,...r,...e.style}},typeof n=="function"?n({icon:s,message:u}):X.createElement(X.Fragment,null,s,u))}),Bn(X.createElement),Ve`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const xa=async(e,t)=>{try{const n=await fetch("https://deplo-dash-supa.vercel.app/api/chat",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({message:e,conversationId:t})});if(!n.ok){console.error("API Response:",{status:n.status,statusText:n.statusText,headers:Object.fromEntries(n.headers.entries())});const s=await n.text();throw console.error("Error response body:",s),new Error(`HTTP error! status: ${n.status}`)}return(await n.json()).response||"Sorry, I could not generate a response."}catch(r){throw console.error("Error generating response:",r),r}},_a=Ln((e,t)=>({isLoading:!1,error:null,sendMessage:async(r,n)=>{e({isLoading:!0,error:null});try{console.log("Sending user message from widget:",r);const o={conversation_id:n,content:r,sender_type:"user",user_id:null},{error:s}=await W.from("messages").insert(o);if(s)throw s;const{data:u,error:h}=await W.from("conversations").select("live_mode").eq("id",n).single();if(h)throw h;if(u.live_mode)console.log("Live mode enabled, skipping OpenAI response");else{console.log("Live mode disabled, generating OpenAI response");try{const v=await xa(r,n);console.log("Got OpenAI response:",v);const g={conversation_id:n,content:v,sender_type:"bot",user_id:null},{error:c}=await W.from("messages").insert(g);if(c)throw c}catch(v){console.error("Error generating bot response:",v),Q.error("Failed to generate bot response")}}const{error:d}=await W.from("conversations").update({last_message_at:new Date().toISOString()}).eq("id",n);if(d)throw d}catch(o){console.error("Error sending message:",o),e({error:o.message}),Q.error("Failed to send message")}finally{e({isLoading:!1})}}})),Vt="chatbot_session_id",Sa=180;function Ea({domainId:e}){const[t,r]=x.useState(!1),[n,o]=x.useState(""),[s,u]=x.useState([]),[h,d]=x.useState([]),[v,g]=x.useState("history"),[c,y]=x.useState(null),[_,S]=x.useState(!1),[b]=x.useState(new Set),[L,Y]=x.useState(null),[M,I]=x.useState(null),C=x.useRef(null),[O,k]=x.useState(!1),R=x.useRef(null),{sendMessage:U}=_a(),[Z,V]=x.useState(!1),ne=(l,p)=>p.some(E=>E.id===l.id||E.id.startsWith("temp-")&&E.content===l.content&&E.sender_type===l.sender_type||E.content===l.content&&E.sender_type===l.sender_type&&Math.abs(new Date(E.created_at).getTime()-new Date(l.created_at).getTime())<2e3);x.useEffect(()=>{if(!M)return;const l=W.channel("new-conversations").on("postgres_changes",{event:"INSERT",schema:"public",table:"conversations",filter:`session_id=eq.${M}`},p=>{if(p.eventType==="INSERT"){const E=p.new;d(A=>[E,...A])}}).subscribe();return()=>{l.unsubscribe()}},[M]),x.useEffect(()=>{if(!M)return;const l=W.channel("conversations-updates").on("postgres_changes",{event:"*",schema:"public",table:"conversations",filter:`session_id=eq.${M}`},p=>{p.eventType==="UPDATE"&&(d(E=>E.map(A=>A.id===p.new.id?{...A,...p.new}:A)),p.new.id===c&&k(p.new.status==="archived"))}).subscribe();return()=>{l.unsubscribe()}},[M,c]),x.useEffect(()=>{var l;t&&(s.length>0||O)&&((l=C.current)==null||l.scrollIntoView({behavior:"smooth"}))},[s,t,O]);const pe=async()=>{if(M)try{const{data:l,error:p}=await W.from("conversations").select("*").eq("session_id",M).order("last_message_at",{ascending:!1});if(p)throw p;d(l||[])}catch(l){console.error("Error loading conversation history:",l)}};x.useEffect(()=>{M&&pe()},[M]);const ae=async()=>{u([]),y(null),k(!1),Se(null),V(!1),g("chat")},q=()=>{g("history"),u([]),y(null),k(!1)},K=async l=>{try{y(l.id),k(l.status==="archived"),Se(null),V(!1);const{data:p}=await W.from("messages").select("*").eq("conversation_id",l.id).order("created_at",{ascending:!0});p&&(u(p),b.clear(),p.forEach(E=>b.add(E.id))),l.status==="archived"&&Se(l.rating||null),g("chat")}catch(p){console.error("Error loading conversation:",p)}};x.useEffect(()=>{if(!c)return;const l=W.channel(`conversation-status:${c}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"conversations",filter:`id=eq.${c}`},p=>{p.new.status==="archived"?(k(!0),oe()):k(!1)}).subscribe();return()=>{l.unsubscribe()}},[c]),x.useEffect(()=>{R.current=new Audio("https://assets.mixkit.co/active_storage/sfx/2354/2354-preview.mp3")},[]);const oe=()=>{R.current&&(R.current.currentTime=0,R.current.play().catch(l=>{console.log("Error playing notification:",l)}))};x.useEffect(()=>{if(!c){console.log("No conversation ID yet, skipping subscription");return}console.log("Setting up subscription for conversation:",c);const l=W.channel(`messages-${c}`).on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`conversation_id=eq.${c}`},p=>{if(console.log("Received real-time event:",p),p.eventType==="INSERT"){const E=p.new;console.log("New message:",E),u(A=>{if(ne(E,A))return console.log("Message already exists, skipping"),A;const G=A.filter(te=>!(te.id.startsWith("temp-")&&te.content===E.content&&te.sender_type===E.sender_type));return b.add(E.id),E.sender_type==="bot"&&oe(),console.log("Adding new message to state"),[...G,E]})}});return l.subscribe(p=>{console.log("Subscription status:",p)}),()=>{console.log("Cleaning up subscription for conversation:",c),l.unsubscribe()}},[c,t]),x.useEffect(()=>{(async()=>{let p=localStorage.getItem(Vt);p||(p=window.crypto.randomUUID(),localStorage.setItem(Vt,p)),I(p),await de(p)})()},[]);const de=async l=>{try{const{data:p,error:E}=await W.from("conversations").select("*").eq("session_id",l).eq("status","active").order("last_message_at",{ascending:!1}).limit(1);if(E)throw E;if(!p||p.length===0){console.log("No active conversations found for this session");return}const A=p[0],G=new Date;if(G.setDate(G.getDate()-Sa),new Date(A.last_message_at)<G){await W.from("conversations").update({status:"archived"}).eq("id",A.id);return}y(A.id);const{data:te}=await W.from("messages").select("*").eq("conversation_id",A.id).order("created_at",{ascending:!0});if(te){const it=te.filter(ye=>b.has(ye.id)?!1:(b.add(ye.id),!0));u(it)}}catch(p){p instanceof Error&&!p.message.includes("no rows returned")&&(console.error("Error loading existing conversation:",p),Y("Failed to load conversation history"))}},fe=async()=>{try{const{data:{user:l}}=await W.auth.getUser();if(!l){await W.auth.signInAnonymously();const{data:{user:A}}=await W.auth.getUser();if(!A)throw new Error("Failed to create anonymous session");const{data:G,error:te}=await W.from("conversations").insert({domain_id:e,user_id:A.id,session_id:M,last_message_at:new Date().toISOString(),status:"active"}).select().single();if(te)throw te;return G.id}const{data:p,error:E}=await W.from("conversations").insert({domain_id:e,user_id:l.id,session_id:M,last_message_at:new Date().toISOString(),status:"active"}).select().single();if(E)throw E;return p.id}catch(l){throw console.error("Error creating conversation:",l),l}},qe=async l=>{try{S(!0),Y(null);const{data:{user:p}}=await W.auth.getUser();p||await W.auth.signInAnonymously();const E=c||await fe();c||y(E);const A={id:`temp-${Date.now()}`,content:l,sender_type:"user",created_at:new Date().toISOString()};u(G=>ne(A,G)?G:[...G,A]),await U(l,E),o("")}catch(p){console.error("Error sending message:",p),Y("Failed to send message. Please try again.")}finally{S(!1)}},Be=async l=>{l.preventDefault(),!(!n.trim()||_)&&await qe(n.trim())};x.useEffect(()=>{e&&(async()=>{try{const{data:p}=await W.from("domain_settings").select("*").eq("domain_id",e).single();xe(p?{chatbotName:p.chatbot_name,greetingMessage:p.greeting_message||"Hello! How can I help you today?",color:p.primary_color||"#FF6B00",headerTextColor:p.header_text_color||"#000000"}:{chatbotName:"Friendly Assistant",greetingMessage:"Hello! How can I help you today?",color:"#FF6B00",headerTextColor:"#000000"})}catch(p){console.error("Error fetching chatbot config:",p),xe({chatbotName:"Friendly Assistant",greetingMessage:"Hello! How can I help you today?",color:"#FF6B00",headerTextColor:"#000000"})}})()},[e]);const[B,xe]=x.useState({chatbotName:"Chatbot",greetingMessage:"Hello! How can I help you today?",color:"#FF6B00",headerTextColor:"#000000"}),_e={backgroundColor:B.color},ze=async()=>{if(c)try{u([]),b.clear();const{data:l}=await W.from("messages").select("*").eq("conversation_id",c).order("created_at",{ascending:!0});l&&(u(l),l.forEach(p=>b.add(p.id)))}catch(l){console.error("Error refreshing chat:",l),Y("Failed to refresh chat")}},[he,Se]=x.useState(null),ve=async l=>{if(c)try{const{error:p}=await W.from("conversations").update({rating:l}).eq("id",c);if(p)throw p;Se(l),d(E=>E.map(A=>A.id===c?{...A,rating:l}:A))}catch(p){console.error("Error rating conversation:",p)}},Me=async()=>{if(c)try{const{error:l}=await W.from("conversations").update({requested_live_at:new Date().toISOString()}).eq("id",c);if(l)throw l;V(!0);const p={id:`temp-${Date.now()}`,content:"I'll connect you with a live agent. Please wait a moment while I transfer your chat.",sender_type:"bot",created_at:new Date().toISOString()};u(E=>[...E,p])}catch(l){console.error("Error requesting live chat:",l),Y("Failed to request live chat. Please try again.")}};return f.jsxs("div",{className:"fixed bottom-6 right-6 flex flex-col items-end z-[9999]",children:[t&&f.jsxs("div",{className:"mb-4 w-[380px] bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden",children:[f.jsxs("div",{className:"p-4 border-b flex items-center gap-3",style:{backgroundColor:B.color},children:[f.jsxs("div",{className:"relative flex-shrink-0",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center",children:f.jsx("span",{className:"text-lg",children:""})}),f.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white",style:_e})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-medium",style:{color:B.headerTextColor},children:B.chatbotName}),f.jsxs("p",{className:"text-sm",style:{color:B.headerTextColor},children:["from ",B.chatbotName]})]}),v==="chat"&&f.jsxs("div",{className:"flex items-center gap-2",children:[Z?f.jsx("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-white/20 rounded-lg text-sm",style:{color:B.headerTextColor},title:"Waiting for agent",children:f.jsx(lr,{className:"h-4 w-4"})}):f.jsx("button",{onClick:Me,className:"flex items-center gap-1 px-3 py-1.5 bg-white/20 rounded-lg text-sm hover:bg-white/30",style:{color:B.headerTextColor},title:"Request live agent",disabled:!c||O,children:f.jsx(yr,{className:"h-4 w-4"})}),f.jsx("button",{onClick:ze,className:"flex items-center gap-1 px-3 py-1.5 bg-white/20 rounded-lg text-sm",style:{color:B.headerTextColor},title:"Refresh chat",children:f.jsx(mr,{className:"h-4 w-4"})}),f.jsx("button",{onClick:q,className:"flex items-center gap-1 px-3 py-1.5 bg-white/20 rounded-lg text-sm",style:{color:B.headerTextColor},children:f.jsx(fr,{className:"h-4 w-4"})})]})]}),f.jsx("div",{className:"h-[400px] overflow-y-auto p-4 bg-gray-50 relative",children:v==="history"?f.jsxs("div",{className:"space-y-4 h-full",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"font-medium text-gray-900",children:"Conversation History"}),f.jsxs("button",{onClick:ae,className:"flex items-center gap-2 px-3 py-1.5 bg-orange-500 text-white text-sm rounded-lg hover:bg-orange-600",children:[f.jsx(dr,{className:"h-4 w-4"}),"Start New Chat"]})]}),h.map(l=>f.jsxs("button",{onClick:()=>K(l),className:"w-full text-left p-4 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("span",{className:"text-sm font-medium text-gray-900",children:Fe(new Date(l.created_at),"PPP")}),f.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${l.status==="archived"?"bg-gray-100 text-gray-600":"bg-green-100 text-green-600"}`,children:l.status==="archived"?"Archived":"Active"})]}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Last message: ",Fe(new Date(l.last_message_at),"p")]})]},l.id)),h.length===0&&f.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center",children:f.jsx("p",{className:"mb-4",children:"No previous conversations found"})})]}):f.jsxs("div",{className:"space-y-4",children:[v==="chat"&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex-shrink-0 flex items-center justify-center",children:""}),f.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm max-w-[80%]",children:[f.jsx("p",{className:"text-sm",children:B.greetingMessage}),f.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:Fe(new Date,"h:mm a")})]})]}),s.map(l=>f.jsxs("div",{className:`flex gap-2 ${l.sender_type==="user"?"justify-end":""}`,children:[l.sender_type==="bot"&&f.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex-shrink-0 flex items-center justify-center",children:""}),f.jsxs("div",{className:`p-3 rounded-lg max-w-[80%] ${l.sender_type==="user"?"bg-orange-500 text-white ml-auto":"bg-white shadow-sm"}`,children:[f.jsx("p",{className:"text-sm",children:l.content}),f.jsx("span",{className:`text-xs mt-1 block ${l.sender_type==="user"?"text-orange-100":"text-gray-500"}`,children:Fe(new Date(l.created_at),"h:mm a")})]}),l.sender_type==="user"&&f.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex-shrink-0 flex items-center justify-center",children:""})]},l.id)),O&&f.jsxs("div",{className:"flex flex-col items-center gap-3 my-4",children:[f.jsxs("div",{className:"bg-gray-100 rounded-lg px-4 py-3 flex items-center gap-2 text-gray-600",children:[f.jsx(ur,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm",children:"This conversation has been archived"})]}),!he&&f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("p",{className:"text-sm text-gray-600",children:"How was this conversation?"}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("button",{onClick:()=>ve("bad"),className:"flex items-center gap-1 px-4 py-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-colors",children:[f.jsx(pr,{className:"h-4 w-4"}),f.jsx("span",{children:"Bad"})]}),f.jsxs("button",{onClick:()=>ve("ok"),className:"flex items-center gap-1 px-4 py-2 rounded-lg bg-yellow-100 text-yellow-600 hover:bg-yellow-200 transition-colors",children:[f.jsx(hr,{className:"h-4 w-4"}),f.jsx("span",{children:"OK"})]}),f.jsxs("button",{onClick:()=>ve("good"),className:"flex items-center gap-1 px-4 py-2 rounded-lg bg-green-100 text-green-600 hover:bg-green-200 transition-colors",children:[f.jsx(vr,{className:"h-4 w-4"}),f.jsx("span",{children:"Good"})]})]})]}),he&&f.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[f.jsx("span",{className:"text-sm text-gray-600",children:"You rated this conversation:"}),f.jsx("span",{className:`font-medium ${he==="bad"?"text-red-600":he==="ok"?"text-yellow-600":"text-green-600"}`,children:he==="bad"?"Bad ":he==="ok"?"OK ":"Good "})]})]}),f.jsx("div",{ref:C})]})}),v==="chat"&&f.jsxs("form",{onSubmit:Be,className:"p-4 border-t bg-white",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"flex-1 relative",children:f.jsx("input",{type:"text",value:n,onChange:l=>o(l.target.value),placeholder:"Type your message...",className:"w-full px-4 py-2 border rounded-full focus:outline-none focus:ring-2 pr-10 disabled:opacity-50 disabled:cursor-not-allowed",style:{"--tw-ring-color":B.color},disabled:_||O})}),f.jsx("button",{type:"submit",disabled:!n.trim()||_||O,className:"p-2 rounded-full text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",style:_e,children:_?f.jsx("div",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):f.jsx(gr,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"text-center mt-2",children:f.jsx("a",{href:"https://dashboard.ai",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-600 hover:text-gray-700",children:"Powered by Dashboard.ai"})})]})]}),f.jsx("button",{className:"w-14 h-14 rounded-full text-white flex items-center justify-center shadow-lg",style:_e,onClick:()=>r(!t),children:t?"":""})]})}function Oa(){const e=document.createElement("div");e.id="chatbot-widget-root",document.body.appendChild(e);const t=window.CHATBOT_CONFIG||{};Xe(e).render(f.jsx(Ea,{domainId:t.domainId}))}Oa()});
